{"version":3,"sources":["components/Header.js","components/Main.js","routes/Landing.js","components/SideItem.js","components/SidebarContainer.js","components/Feed.js","components/Following.js","routes/Stats.js","components/Profile.js","routes/Account.js","App.js","index.js","components/CreateDiscussion.js","contexts/Web3ContextProvider.js","contracts/Contract.js","contracts/NFT.js","contexts/StateContextProvider.js"],"names":["Header","useWeb3Context","loadWeb3Modal","logoutOfWeb3Modal","address","class","src","to","className","onClick","Main","Landing","user","SideItem","active","text","onclick","SidebarContainer","children","Feed","useStateContext","getVideos","loading","videos","contract","readOnlyContract","uploadVideo","useState","liked","setLiked","localStorage","getItem","retweet","setRetweet","_videos","_setVideos","useEffect","forEach","v","prev","Set","id","hash","title","issue","likes","parseInt","_hex","author","a","length","map","video","i","width","url","size","likeVideo","then","toReturn","setTimeout","window","location","reload","color","setItem","Following","ipfs","require","create","host","port","protocol","ChartJS","register","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","options","responsive","plugins","legend","position","display","Stats","nft","currentSection","setCurrentSection","data","setData","useNavigate","_data","labels","filter","datasets","label","backgroundColor","mint","baseUri","metadata","name","description","image","add","JSON","stringify","addedMetadata","path","alert","style","height","forceVisible","autoHide","replace","classname","marginTop","Profile","email","Account","flex","CreateDiscussion","App","element","ReactDOM","render","StrictMode","Web3ContextProvider","StateContextProvider","document","getElementById","setVideo","setTitle","setIssue","duration","setDuration","_loading","_setLoading","value","onChange","e","target","placeholder","file","files","URL","webkitURL","videoEl","createElement","preload","onloadedmetadata","revokeObjectURL","console","log","reader","FileReader","readAsArrayBuffer","onloadend","Buffer","result","captureFile","accept","type","res","web3Modal","Web3Modal","cacheProvider","providerOptions","theme","Web3Context","createContext","provider","undefined","signer","setProvider","setSigner","setAddress","web3Connection","setWeb3Connection","on","useCallback","connect","connection","newProvider","Web3Provider","newSigner","getSigner","getAddress","close","clearCachedProvider","cachedProvider","JsonRpcProvider","Provider","useContext","ContractInstance","ethers","Contract","abi","NFTInstance","NFT","StateContext","setContract","setNFT","setReadOnlyContract","setLoading","setVideos","videoCount"],"mappings":"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","file":"static/js/main.83318d4f.chunk.js","sourcesContent":["import React from \"react\"\nimport \"./Header.css\"\nimport { Link } from \"react-router-dom\"\nimport { useWeb3Context } from \"../contexts/Web3ContextProvider\"\n\nconst Header = () => {\n    const { loadWeb3Modal, logoutOfWeb3Modal, address } = useWeb3Context()\n\n    return (\n        <div class=\"header\">\n            <img src=\"/logo.png\" />\n            <Link to=\"/account\" className=\"header-link\">Feed</Link>\n            {address ? <a onClick={logoutOfWeb3Modal} className=\"header-link\">Logout</a> : <a onClick={loadWeb3Modal} className=\"header-link\">Login</a>}\n        </div>\n    )\n}\n\nexport default Header","import React from \"react\"\nimport \"./Main.css\"\n\nconst Main = () => {\n    return (\n        <div class=\"main\">\n            <h1 class=\"main-title\">Meet The Truth</h1>\n            <p class=\"main-subtitle\">Boosting decentralized discussions through NFT incentives</p>\n            <div class=\"main-images\">\n                <img src=\"https://static01.nyt.com/images/2021/03/12/arts/11nft-auction-cryptopunks-print/11nft-auction-cryptopunks-print-mobileMasterAt3x.jpg\" />\n                <img src=\"https://www.reuters.com/resizer/KPyPEIt3l_uuN0830xaFD9v2Idc=/1920x2400/smart/filters:quality(80)/cloudfront-us-east-2.images.arcpublishing.com/reuters/34GWN2I7W5LJJDYR7VOOLE7MLY.jpg\" />\n                <img src=\"https://miro.medium.com/max/1200/1*5AyYzOlGlv501PlJlIdZZQ.jpeg\" />\n                <img src=\"https://lh3.googleusercontent.com/I-9GNJlJwFt13PsqoF2G2r6d0OkvUF1E4k_Wr6IvX31bbVYPAN3-iIn8AFjVu7vvlnrG8ojWP75hg0S4U9SpEKNAm34PwNiQppH4=w600\" />\n            </div>\n        </div>\n    )\n}\n\nexport default Main","import React from \"react\"\nimport Header from \"../components/Header\"\nimport Main from \"../components/Main\"\n\nconst Landing = ({ user }) => {\n    return (\n        <div className=\"App\">\n            <Header user={user} />\n            <Main />\n        </div>\n    )\n}\n\nexport default Landing","import React from \"react\"\nimport \"./SideItem.css\"\n\nconst SideItem = ({ active, text, onclick }) => {\n    return (\n        <div onClick={onclick} className={`sidebar-item ${active ? \"active-item\" : null}`}>\n            <p>{ text }</p>\n        </div>\n    )\n}\n\nexport default SideItem","import React from \"react\"\nimport \"./SidebarContainer.css\"\n\nconst SidebarContainer = ({ children }) => {\n    return (\n        <div className=\"sidebar-container\">\n            { children }\n        </div>\n    )\n}\n\nexport default SidebarContainer","import React, { useEffect, useState } from \"react\"\nimport { ReactVideoPlayer } from 'video-player-for-react'\nimport { FcLikePlaceholder, FcLike } from \"react-icons/fc\"\nimport { AiOutlineRetweet } from \"react-icons/ai\"\nimport './video-player.css'\nimport \"./Feed.css\"\nimport { useStateContext } from \"../contexts/StateContextProvider\"\n\nconst Feed = () => {\n    const { getVideos, loading, videos, contract, readOnlyContract, uploadVideo } = useStateContext()\n    const [liked, setLiked] = useState(false)\n    const [retweet, setRetweet] = useState(localStorage.getItem(\"retweet\"))\n    const [_videos, _setVideos] = useState([])\n\n    useEffect(() => {\n        if (!loading) {\n            videos.forEach(v => {\n                _setVideos(prev => new Set([...prev, {\n                    id: v.id,\n                    hash: v.hash,\n                    title: v.title,\n                    issue: v.issue,\n                    likes: parseInt(v.likes._hex, 16),\n                    author: v.author\n                }]))\n            })\n        }\n    }, [videos])\n\n    useEffect(async () => {\n        if (readOnlyContract && !loading) {\n            await getVideos()\n        }\n    }, [readOnlyContract])\n\n    return (\n        <div class=\"feed\">\n            {videos.length !== 0 ? videos.map((video, i) => (\n                <>\n                    {video.issue !== \"\" ? (\n                        <div className=\"feed-video\">\n                            <ReactVideoPlayer width='600px' url={`https://ipfs.infura.io/ipfs/${video.hash}`} />\n                            <p className=\"discussion-issue\">{ video.title }</p>\n                            <div className=\"video-actions\">\n                                <div className=\"video-like\">\n                                    {!liked ? (\n                                        <FcLikePlaceholder className=\"like-icon\" size={30} onClick={() => {\n                                            setLiked(prev => !prev)\n                                            contract.likeVideo(video.id, video.likes)\n                                            .then(() => {\n                                                _setVideos(prev => {\n                                                    const toReturn = [...prev, {\n                                                        id: video.id,\n                                                        hash: video.hash,\n                                                        title: video.title,\n                                                        issue: video.issue,\n                                                        author: video.author,\n                                                        likes: parseInt(video.likes._hex, 16) + 1\n                                                    }]\n\n                                                    return [...new Set(toReturn)]\n                                                })\n                                                setTimeout(() => window.location.reload(), 2000)\n                                            })\n                                        }} />\n                                    ) : (\n                                        <FcLike className=\"like-icon\" size={30} onClick={() => {\n                                            setLiked(prev => !prev)\n                                        }} />\n                                    )}\n                                    <p>{ _videos.length === videos.length ? _videos[i].likes : parseInt(video.likes._hex, 16) }</p>\n                                </div>\n                                <div className=\"video-like\">\n                                    <AiOutlineRetweet color={retweet ? \"green\" : null} className=\"like-icon\" size={30} onClick={() => {\n                                        setRetweet(prev => !prev)\n                                        localStorage.setItem(\"retweeted\", retweet)\n                                        uploadVideo(video.hash, video.title, video.issue)\n                                        .then(() => {\n                                            window.location.reload()\n                                        })\n                                    }} />\n                                </div>\n                            </div>\n                        </div>\n                    ) : null}\n                </>\n            )) : (!loading ? <h2 className=\"feed-error\">No videos found!</h2> : <h2 className=\"feed-error\">Loading...</h2>)}\n        </div>\n    )\n}\n\nexport default Feed","import React from \"react\"\n\nconst Following = () => {\n    return (\n        <div></div>\n    )\n}\n\nexport default Following","import React, { useEffect, useState } from \"react\"\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend,\n} from 'chart.js'\nimport { Bar } from 'react-chartjs-2'\nimport \"./Stats.css\"\nimport { useStateContext } from \"../contexts/StateContextProvider\"\nimport { useWeb3Context } from \"../contexts/Web3ContextProvider\"\nimport SimpleBar from 'simplebar-react'\nimport 'simplebar/dist/simplebar.min.css'\nimport Header from \"../components/Header\"\nimport SideItem from \"../components/SideItem\"\nimport SidebarContainer from \"../components/SidebarContainer\"\nimport { useNavigate } from \"react-router-dom\"\n\nconst ipfsClient = require('ipfs-http-client')\nconst ipfs = ipfsClient.create({ host: 'ipfs.infura.io', port: 5001, protocol: 'https' })\n\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend\n)\n\nexport const options = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top',\n      },\n      title: {\n        display: false,\n      },\n    },\n}\n\nconst Stats = () => {\n  const { getVideos, videos, nft, readOnlyContract, loading } = useStateContext()\n  const { address } = useWeb3Context()\n  const [currentSection, setCurrentSection] = useState(3)\n  const [data, setData] = useState(null)\n  const navigate = useNavigate()\n  \n  useEffect(() => {\n    if (!loading) {\n      const _data = {\n        labels: videos.filter(v => v.author === address).map(v => v.title),\n        datasets: [\n          {\n            label: 'Likes',\n            data: videos.filter(v => v.author === address).map(v => parseInt(v.likes._hex, 16)),\n            backgroundColor: 'rgba(255, 99, 132, 0.5)',\n          }\n        ],\n      }\n      setData(_data)\n    }\n  }, [videos])\n\n  useEffect(async () => {\n    if (readOnlyContract && !loading) {\n        await getVideos()\n    }\n  }, [readOnlyContract])\n\n    const mint = async video => {\n      const baseUri = \"https://ipfs.infura.io/ipfs/\"\n      const metadata = {\n        name: video.title,\n        description: video.issue,\n        image: baseUri + video.hash\n      }\n      const addedMetadata = await ipfs.add(JSON.stringify(metadata))\n      nft.mint(address, baseUri + addedMetadata.path)\n      .then(() => {\n        alert(\"Successfully minted NFT\")\n      })\n      // nft.methods.mint(account, baseUri + addedMetadata.path).send({ from: account, gas: 1000000 })\n      // .once(\"error\", err => {\n      //   alert(err.message)\n      // })\n      // .then(receipt => {\n      //   alert(\"Successfully minted NFT\")\n      // })\n    }\n\n    return (\n      <SimpleBar style={{ height: \"100vh\", width: \"100vw\" }} forceVisible=\"y\" autoHide={false}>\n        <Header />\n        <div className=\"account\">\n          <SidebarContainer>\n              <SideItem active={currentSection === 0} text=\"For you\" onclick={() => { window.location.replace(\"/account\") }} />\n              <SideItem active={currentSection === 1} text=\"Following\" onclick={() => setCurrentSection(1)} />\n              <SideItem active={currentSection === 2} text=\"Create\" onclick={() => setCurrentSection(2)} />\n              <SideItem active={currentSection === 3} text=\"Stats\" onclick={() => { setCurrentSection(3)}} />\n              <SideItem active={currentSection === 4} text=\"Profile\" onclick={() => setCurrentSection(4)} />\n          </SidebarContainer>\n          <div classname=\"stats\">\n            <div className=\"stats-graph\">\n                {data ? <Bar options={options} data={data} /> : null}\n            </div>\n            <h2 style={{ marginTop: 50 }}>Mint NFT from Video</h2>\n            <div className=\"mint-nft\">\n              {loading && <p>Loading...</p>}\n              {videos.map(video => (\n                <>\n                  {video.author === address ? <div className=\"video-nft\">\n                    <p>{ video.title }</p>\n                    <button onClick={() => {\n                      if (video.likes >= 5) {\n                        mint(video)\n                      }\n                    }} className={`mint-btn ${video.likes < 5 ? \"disabled\" : null}`}>Mint NFT</button>\n                  </div> : null}\n                </>\n              ))}\n            </div>\n          </div>\n        </div>\n      </SimpleBar>\n    )\n}\n\nexport default Stats","import React from \"react\"\nimport Gravatar from \"react-gravatar\"\nimport { useWeb3Context } from \"../contexts/Web3ContextProvider\"\nimport \"./Profile.css\"\n\nconst Profile = () => {\n    const { address } = useWeb3Context()\n\n    return (\n        <div className=\"profile\">\n            <Gravatar email={address} className=\"profile-avatar\" />\n            <h2>{ address }</h2>\n        </div>\n    )\n}\n\nexport default Profile","import React, { useState } from \"react\"\nimport Header from \"../components/Header\"\nimport SideItem from \"../components/SideItem\"\nimport SidebarContainer from \"../components/SidebarContainer\"\nimport Feed from \"../components/Feed\"\nimport Following from \"../components/Following\"\nimport Stats from \"./Stats\"\nimport Profile from \"../components/Profile\"\nimport CreateDiscussion from \"../components/CreateDiscussion\"\nimport SimpleBar from 'simplebar-react'\nimport 'simplebar/dist/simplebar.min.css'\nimport \"./Account.css\"\nimport { useNavigate } from 'react-router-dom';\n\nconst Account = ({ data }) => {\n    const [currentSection, setCurrentSection] = useState(0)\n    const navigate = useNavigate()\n\n    return (\n        <SimpleBar style={{ height: \"100vh\", width: \"100vw\" }} forceVisible=\"y\" autoHide={false}>\n            <Header />\n            <div className=\"account\">\n                <SidebarContainer>\n                    <SideItem active={currentSection === 0} text=\"For you\" onclick={() => { window.location.reload(); setCurrentSection(0)}} />\n                    <SideItem active={currentSection === 1} text=\"Following\" onclick={() => setCurrentSection(1)} />\n                    <SideItem active={currentSection === 2} text=\"Create\" onclick={() => setCurrentSection(2)} />\n                    <SideItem active={currentSection === 3} text=\"Stats\" onclick={() => window.location.replace(\"/stats\") } />\n                    <SideItem active={currentSection === 4} text=\"Profile\" onclick={() => setCurrentSection(4)} />\n                </SidebarContainer>\n                <div style={{ flex: 1 }}>\n                    {currentSection === 0 ? (\n                        <Feed />\n                    ) : (\n                        currentSection === 1 ? (\n                            <Following />\n                        ) : (\n                            currentSection === 2 ? (\n                                <CreateDiscussion />\n                            ) : (\n                                currentSection === 3 ? (\n                                    <Stats />\n                                ) : (\n                                    <Profile />\n                                )\n                            )\n                        )\n                    )}\n                </div>\n            </div>\n        </SimpleBar>\n    )\n}\n\nexport default Account","import React, { Component } from \"react\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\"\nimport Landing from \"./routes/Landing\"\nimport Account from \"./routes/Account\"\nimport Web3 from \"web3\"\nimport { useEffect, useState } from \"react\"\nimport Contract from \"./abis/Contract.json\"\nimport NFT from \"./abis/NFT.json\"\nimport \"./App.css\";\nimport Stats from \"./routes/Stats\";\n\nfunction App() {\n  const [videos, setVideos] = useState([])\n  const [account, setAccount] = useState(\"0x0\")\n\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<Landing />} />\n        <Route path=\"/account\" element={<Account />} />\n        <Route path=\"/stats\" element={<Stats />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { StateContextProvider } from './contexts/StateContextProvider';\nimport { Web3ContextProvider } from './contexts/Web3ContextProvider';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Web3ContextProvider>\n      <StateContextProvider>\n        <App />\n      </StateContextProvider>\n    </Web3ContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","import React, { useState } from \"react\"\nimport { useStateContext } from \"../contexts/StateContextProvider\"\nimport \"./CreateDiscussion.css\"\n\nconst ipfsClient = require('ipfs-http-client')\nconst ipfs = ipfsClient.create({ host: 'ipfs.infura.io', port: 5001, protocol: 'https' })\n\nconst CreateDiscussion = () => {\n    const { uploadVideo, contract, loading } = useStateContext()\n\n    const [video, setVideo] = useState(null)\n    const [title, setTitle] = useState(\"\")\n    const [issue, setIssue] = useState(\"\")\n    const [duration, setDuration] = useState(0)\n    const [_loading, _setLoading] = useState(false)\n\n    const captureFile = e => {\n        const file = e.target.files[0]\n        window.URL = window.URL || window.webkitURL\n        const videoEl = document.createElement('video')\n        videoEl.preload = 'metadata'\n        videoEl.onloadedmetadata = function () {\n            window.URL.revokeObjectURL(videoEl.src)\n            console.log(videoEl.duration)\n            setDuration(videoEl.duration)\n        }\n        const reader = new window.FileReader()\n        reader.readAsArrayBuffer(file)\n\n        reader.onloadend = () => {\n            setVideo(Buffer(reader.result))\n        }\n    }\n\n    const _uploadVideo = () => {\n        if (video && title !== \"\" && issue !== \"\" && duration < 60) {\n            _setLoading(true)\n            ipfs.add(video)\n            .then(res => {\n                uploadVideo(res.path, title, issue)\n                .then(() => {\n                    _setLoading(false)\n                    alert(\"New discussion created successfully!\")\n                })\n            })\n        }\n        else {\n            if (duration > 60) {\n                alert(\"Video duration should not be more than a minute.\")\n            }\n            else {\n                alert(\"Title or issue should not be empty.\")\n            }\n        }\n    }\n\n    const submit = () => {\n        _uploadVideo()\n    }\n\n    return (\n        <div className=\"discussion-form\">\n            <div className=\"discussion-row\">\n                <input value={title} onChange={e => setTitle(e.target.value)} placeholder=\"Enter title\" className=\"video-title\" />\n                <input value={issue} onChange={e => setIssue(e.target.value)} placeholder=\"Enter issue\" className=\"video-title\" />\n            </div>\n            <br />\n            <input onChange={e => captureFile(e)} accept=\".mp4, .ogg, .mkv, .wmv\" id=\"upload\" type=\"file\" />\n            <button onClick={submit} className=\"video-upload\">{ _loading ? \"Loading...\" : \"Create discussion\" }</button>\n        </div>\n    )\n}\n\nexport default CreateDiscussion","import {\n    createContext,\n    useCallback,\n    useContext,\n    useEffect,\n    useState,\n  } from 'react';\n  import Web3Modal from 'web3modal';\n  \n  import { Web3Provider, JsonRpcProvider } from '@ethersproject/providers';\n  \n  const web3Modal = new Web3Modal({\n    cacheProvider: true,\n    providerOptions: {},\n    theme: 'dark',\n  });\n  \n  export const Web3Context = createContext({\n    provider: undefined,\n    signer: undefined,\n    address: '',\n    web3Modal,\n    loadWeb3Modal: async () => {},\n    logoutOfWeb3Modal: async () => {},\n  });\n  \n  export const Web3ContextProvider = ({ children }) => {\n    const [provider, setProvider] = useState();\n    const [signer, setSigner] = useState();\n    const [address, setAddress] = useState('');\n    const [web3Connection, setWeb3Connection] = useState();\n  \n    useEffect(() => {\n      if (!web3Connection) {\n        return;\n      }\n      web3Connection.on('accountsChanged', () => {\n        window.location.reload();\n      });\n      web3Connection.on('chainChanged', () => {\n        window.location.reload();\n      });\n    }, [web3Connection]);\n  \n    const loadWeb3Modal = useCallback(async () => {\n      const connection = await web3Modal.connect();\n      setWeb3Connection(connection);\n      const newProvider = new Web3Provider(connection);\n      setProvider(newProvider);\n  \n      const newSigner = newProvider.getSigner();\n      setSigner(newSigner);\n      setAddress(await newSigner.getAddress());\n    }, []);\n  \n    const logoutOfWeb3Modal = useCallback(async () => {\n      if (web3Connection && web3Connection.close) {\n        web3Connection.close();\n      }\n      web3Modal.clearCachedProvider();\n      window.location.reload();\n    }, [web3Connection]);\n  \n    useEffect(() => {\n      if (web3Modal.cachedProvider) {\n        loadWeb3Modal();\n      } else {\n        const newProvider = new JsonRpcProvider(\n          'https://stardust.metis.io/?owner=588'\n        );\n        setProvider(newProvider);\n      }\n    }, []);\n  \n    return (\n      <Web3Context.Provider\n        value={{\n          provider,\n          signer,\n          address,\n          web3Modal,\n          loadWeb3Modal,\n          logoutOfWeb3Modal,\n        }}\n      >\n        {children}\n      </Web3Context.Provider>\n    );\n  };\n  \nexport const useWeb3Context = () => useContext(Web3Context);\n  ","import { ethers } from 'ethers'\n\nimport Contract from '../deployments/metis/Contract.json'\n\nexport default function ContractInstance(signer) {\n  return new ethers.Contract(Contract.address, Contract.abi, signer)\n}\n","import { ethers } from 'ethers'\n\nimport NFT from '../deployments/metis/NFT.json'\n\nexport default function NFTInstance(signer) {\n  return new ethers.Contract(NFT.address, NFT.abi, signer)\n}\n","import React, { createContext, useContext, useState, useEffect } from 'react'\n\nimport { useWeb3Context } from './Web3ContextProvider';\nimport ContractInstance from '../contracts/Contract'\nimport NFTInstance from '../contracts/NFT'\n\nconst StateContext = createContext();\n\nexport const StateContextProvider = ({ children }) => {\n  const { provider, signer } = useWeb3Context()\n  const [contract, setContract] = useState(null)\n  const [nft, setNFT] = useState(null)\n  const [readOnlyContract, setReadOnlyContract] = useState(null)\n  const [loading, setLoading] = useState(false)\n  const [videos, setVideos] = useState([])\n\n  useEffect(async () => {\n    if (!provider) {\n      return\n    }\n\n    setContract(ContractInstance(signer))\n    setNFT(NFTInstance(signer || provider))\n    setReadOnlyContract(ContractInstance(provider))\n  }, [provider, signer])\n\n  const getVideos = async () => {\n      setLoading(true)\n      const videoCount = await readOnlyContract.videoCount()\n      for (let i = videoCount; i >= 1; i--) {\n        readOnlyContract.videos(i)\n        .then(video => {\n          setVideos(_videos => [..._videos, video])\n        })\n      }\n      setLoading(false)\n  }\n\n  const uploadVideo = async (hash, title, issue) => {\n    setLoading(true)\n    await contract.uploadVideo(hash, title, issue)\n    setLoading(false)\n  }\n\n  return (\n    <StateContext.Provider\n      value={{\n        videos,\n        getVideos,\n        loading,\n        contract,\n        uploadVideo,\n        readOnlyContract,\n        setVideos,\n        nft\n      }}\n    >\n      {children}\n    </StateContext.Provider>\n  );\n};\n\nexport const useStateContext = () => useContext(StateContext);\n"],"sourceRoot":""}